---
title: 数字货币钱包服务
date: 2023-09-27 16:56:14
permalink: /pages/544590/
categories: 
  - 区块链与当下互联网
tags: 
  - 
---

# 探长三生的区块链探险日志 🕵️‍♂️🔍🚀

Ahoy, 区块链探险家们！探长三生在此，带你们一起探索数字货币钱包的神秘世界！

## 🔄 上次回顾：BaaS的奇异世界

在我们上一次的探险中，我们一起探讨了“区块链即服务”这个神秘的概念。我们发现，在这个数字世界的深处，第一个需要解决的谜题就是数字货币支付服务。如何将数字货币钱包集成到系统中，成为了我们探险家们最为迫切需要解决的问题。

## 🧐 今日探险：数字货币钱包的秘密

### 🗂️ 数字货币钱包的分类

市面上的数字货币钱包种类繁多，让人眼花缭乱。但不怕，探长三生在此，我们可以将它们进行分类后，再快速了解。

![数字货币钱包分类图](https://static001.geekbang.org/resource/image/02/e6/0220a3863fa1c5e3cd8b87cba6a5c5e6.jpg?wh=926*504)

- **左一**：按照用户端平台划分的钱包
- **左二**：按照货币类型分类的钱包
- **右二**：按照私钥存储的方式来区分的钱包
- **右一**：按照访问方式进行分类的钱包

### 🕵️‍♂️🔍 扫描区块技术 Block scan

扫描区块技术是数字货币钱包服务的核心技术之一，它的任务就是把区块链上的交易扫描到数据库中，然后提供查询服务。扫块的目的是为了提供更快的查询服务，而不是每次查询都去扫描整个区块链。

扫描区块技术的核心是一个扫描区块的程序，这个程序会不断地扫描新的区块数据，并把相关的交易数据存储到数据库中。这样，当用户查询交易的时候，就可以直接从数据库中获取数据，而不是从区块链网络中获取。

![扫描区块技术图](https://static001.geekbang.org/resource/image/6a/1b/6a2b3d5e4f1f7c8e2c7e2d6c6a2e11b.png?wh=1402*572)

扫描区块技术的难点在于如何快速准确地扫描到相关的交易。因为区块链上的交易是公开的，任何人都可以扫描到。但是，如何扫描到和自己有关的交易，就需要一些技巧了。

一般来说，扫描区块的技术可以分为全扫和增量扫两种。全扫就是扫描整个区块链，增量扫就是只扫描最新的区块。全扫一般用于初始化，增量扫用于日常更新。

扫描区块的过程中，我们可以把交易的输入和输出地址都扫描出来，然后和我们关心的地址进行匹配，如果匹配成功，就说明这个交易和我们有关。这样，我们就可以把这个交易存储到数据库中，以便后续查询。

扫描区块的过程中，我们还可以验证交易的合法性，比如输入和输出的金额是否相等，交易是否被双花等。这样，我们就可以确保我们扫描到的交易是合法的。


## 🌐👀 区块浏览器

区块浏览器，这个神秘的工具，它提供了可视化的交易查询和验证服务。从技术的角度来看，区块浏览器的主要任务就是把区块扫描到数据库服务器中，然后搭建一个Web访问服务。只要你输入交易哈希或者区块哈希，你就可以查询到交易是否已经被打包和确认了。

目前，比特币和以太坊的流行区块浏览器比较多，不局限在某一个区块浏览器，因为大家看到的区块数据是一样的，区别就在于如何更好地展示它们。如果做得更好，还可以集成一些咨询和资产托管的功能。

从产品的意义上来说，我认为区块浏览器更适合叫做资产浏览器，因为它为人们提供了资产证明的服务，而不必肉眼识别交易或者自行手动解析交易。一般来说，区块浏览器也提供基本的API查询服务。

区块浏览器也为人们提供了区块和交易的统计数据，帮助人们直接地了解这个区块链的活跃程度。人们也可以根据统计数据制作区块活跃度等指数，帮助投资者了解这个区块链项目。

## 💼🌐 数字货币钱包服务

实际上，大规模的区块链应用都需要搭建一个数字货币钱包服务，数字货币钱包服务为系统中的其他模块提供了可扩展的、统一的、安全的交易查询和验证服务。

![数字货币钱包服务图](https://static001.geekbang.org/resource/image/d4/4b/d478d2523f22e437d781a0d7b5b21e4b.png?wh=1182*572)

数字货币钱包服务可以为交易平台其他模块提供接口统一的API，同时将不同的数据结构化到数据库服务中，最后可以通过传统高可用手段完成交易查询和验证。

当然，这也和交易所的规模有关，如果是一个小型交易所，扫块可能不是必需的，但是统一接口的API却是必须的。

我认为数字货币钱包服务应当有一套标准的钱包服务框架，支持主流数字货币，从而降低大家的使用和部署门槛，这也和我们上一篇聊到的“区块链即服务”的概念不谋而合。

## 🎉 总结

今天我们先了解了一下数字货币钱包的分类，接着详细讲解扫块技术，然后又谈到了区块浏览器，最后分享了一下数字货币钱包服务的集成思路。希望这些信息可以让你对区块服务的实践有一个初步了解，你也可以根据已有的技术知识重新拆解和分析区块链技术。

🤔 **今天的问题**：数字货币钱包服务可以应用到微服务架构中吗？

探长三生期待你的回答，我们下次探险再见！👋🚀

